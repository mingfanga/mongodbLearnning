# mongodbLearnning

## 关系型数据库遵循ACID规则

  * 1、A (Atomicity) 原子性
     >      原子性很容易理解，也就是说事务里的所有操作要么全部做完，要么都不做，事务成功的条件是事务里的所有操作都成功，只要有一个操作失败，整个事务就失败，需要回滚。
     >      比如银行转账，从A账户转100元至B账户，分为两个步骤：1）从A账户取100元；2）存入100元至B账户。这两步要么一起完成，要么一起不完成，如果只完成第一步，第二步失败，钱会莫名其妙少了100元。
  
  * 2、C (Consistency) 一致性
  
     >       一致性也比较容易理解，也就是说数据库要一直处于一致的状态，事务的运行不会改变数据库原本的一致性约束。
     >       例如现有完整性约束a+b=10，如果一个事务改变了a，那么必须得改变b，使得事务结束后依然满足a+b=10，否则事务失败。
  
  * 3、I (Isolation) 独立性
  
     >       所谓的独立性是指并发的事务之间不会互相影响，如果一个事务要访问的数据正在被另外一个事务修改，只要另外一个事务未提交，它所访问的数据就不受未提交事务的影响。
     >       比如现在有个交易是从A账户转100元至B账户，在这个交易还未完成的情况下，如果此时B查询自己的账户，是看不到新增加的100元的。
  
  * 4、D (Durability) 持久性
  
     >       持久性是指一旦事务提交后，它所做的修改将会永久的保存在数据库上，即使出现宕机也不会丢失。
     
## CAP定理（CAP theorem）
  * 一致性(Consistency) (所有节点在同一时间具有相同的数据)
  * 可用性(Availability) (保证每个请求不管成功或者失败都有响应)
  * 分隔容忍(Partition tolerance) (系统中任意信息的丢失或失败不会影响系统的继续运作)
  
  _**CAP理论的核心**_
  >       一个分布式系统不可能同时很好的满足一致性，可用性和分区容错性这三个需求，最多只能同时较好的满足两个。
  >       因此，根据 CAP 原理将 NoSQL 数据库分成了满足 CA 原则、满足 CP 原则和满足 AP 原则三 大类：
  >* CA - 单点集群，满足一致性，可用性的系统，通常在可扩展性上不太强大
  >* CP - 满足一致性，分区容忍性的系统，通常性能不是特别高。
  >* AP - 满足可用性，分区容忍性的系统，通常可能对一致性要求低一些。
  
## 连接方式

  >       mongodb://[username:password@]host1[:port1][,host2[:port2],...[,hostN[:portN]]][/[database][?options]]

## mongodb语法
 * 创建数据库
 > use DATABASE_NAME
 
 * 查看所有数据库
 > show dbs
 
 * 删除数据库
 > db.dropDatabase()
 
 * 创建集合
 > db.createCollection(name, options)
 >>  参数说明 
 >>* name: 要创建的集合名称
 >>* options: 可选参数, 指定有关内存大小及索引的选项 


